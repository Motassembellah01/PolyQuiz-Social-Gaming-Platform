<div class="profile-panel">
    <!-- Profile Header -->
    <div class="profile-header">
        <img [src]="accountService.getLocalAvatar()" alt="avatar" class="profile-avatar" />
        <h3 class="profile-name">{{ accountService.account.pseudonym }}</h3>
    </div>

    <div class="divider"></div>

    <!-- Settings Section (Username, Avatar, Theme, Language) -->
    <div class="section">
        <h4 class="section-title"
            [ngClass]="{
                'color-blue': accountService.theme === 'light' || accountService.theme === 'valentines',
                'color-brown': accountService.theme === 'christmas' || accountService.theme === 'dark',
            }">
            {{ 'PROFILE.SETTINGS' | translate }}
        </h4>
        <button mat-raised-button class="panel-btn background-blue" (click)="navigateToNewPlayerName()">
            <i class="material-icons btn-icon">edit</i>
            {{ 'PROFILE.USER_NAME' | translate }}
        </button>
        <button mat-raised-button class="panel-btn background-blue" (click)="navigateToAvatar()">
            <i class="material-icons btn-icon">face</i>
            Avatar
        </button>

        <h4 class="pref-label"
            [ngClass]="{
                'color-blue': accountService.theme === 'light' || accountService.theme === 'valentines',
                'color-brown': accountService.theme === 'christmas' || accountService.theme === 'dark',
            }">
            Mode
        </h4>
        <div class="theme-buttons">
            <button class="theme-btn background-blue" mat-raised-button (click)="changeTheme('light')" [disabled]="accountService.theme === 'light'">
                <img class="theme-icon" src="assets/themes/light.png" />
            </button>
            <button class="theme-btn background-blue" mat-raised-button (click)="changeTheme('dark')" [disabled]="accountService.theme === 'dark'">
                <img class="theme-icon" src="assets/themes/dark.png" />
            </button>
            <button class="theme-btn background-blue" *ngIf="accountService.isThemeOwned('christmas')" mat-raised-button (click)="changeTheme('christmas')" [disabled]="accountService.theme === 'christmas'">
                <img class="theme-icon" src="assets/themes/christmas.png" />
            </button>
            <button class="theme-btn background-blue" *ngIf="accountService.isThemeOwned('valentines')" mat-raised-button (click)="changeTheme('valentines')" [disabled]="accountService.theme === 'valentines'">
                <img class="theme-icon" src="assets/themes/valentines.png" />
            </button>
        </div>

        <h4 class="pref-label"
            [ngClass]="{
                'color-blue': accountService.theme === 'light' || accountService.theme === 'valentines',
                'color-brown': accountService.theme === 'christmas' || accountService.theme === 'dark',
            }">
            {{ 'PROFILE.LANGUAGE' | translate }}
        </h4>
        <div class="lang-buttons">
            <button mat-raised-button class="lang-btn background-beige" (click)="changeLang('fr')" [disabled]="isFrenchSelected">
                {{ 'PROFILE.FRENCH' | translate }}
            </button>
            <button mat-raised-button class="lang-btn background-beige" (click)="changeLang('en')" [disabled]="!isFrenchSelected">
                {{ 'PROFILE.ENGLISH' | translate }}
            </button>
        </div>
    </div>

    <div class="divider"></div>

    <!-- Activity Section -->
    <div class="section">
        <h4 class="section-title"
            [ngClass]="{
                'color-blue': accountService.theme === 'light' || accountService.theme === 'valentines',
                'color-brown': accountService.theme === 'christmas' || accountService.theme === 'dark',
            }">
            {{ 'PROFILE.HISTORY' | translate }}
        </h4>
        <button mat-raised-button class="panel-btn background-blue" (click)="openHistory()">
            <i class="material-icons btn-icon">history</i>
            {{ 'PROFILE.HISTORY' | translate }}
        </button>
        <button mat-raised-button class="panel-btn background-blue" (click)="openStatistics()">
            <i class="material-icons btn-icon">bar_chart</i>
            {{ 'PROFILE.STATISTICS' | translate }}
        </button>
    </div>

    <div class="divider"></div>

    <!-- Logout -->
    <div class="logout-section">
        <button class="logout-btn" mat-raised-button (click)="onLogout()">
            {{ 'PROFILE.LOGOUT' | translate }}
            <i class="material-icons btn-icon">logout</i>
        </button>
    </div>
</div>
